<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hey Aparajita</title>
  <style>
    :root {
      --bg-color-light: #f4f4f4;
      --card-color-light: #ffffff;
      --text-color-light: #222222;
      --accent-light: #999999;

      --bg-color-dark: #121212;
      --card-color-dark: #1e1e1e;
      --text-color-dark: #e0e0e0;
      --accent-dark: #888888;

      --transition-speed: 0.4s;
      --font: 'Helvetica Neue', sans-serif;
    }

    body {
      background-color: var(--bg-color-light);
      color: var(--text-color-light);
      font-family: var(--font);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      transition: background-color var(--transition-speed), color var(--transition-speed);
      overflow-x: hidden;
      position: relative;
    }
    body.dark {
      background-color: var(--bg-color-dark);
      color: var(--text-color-dark);
    }

    header, .container, .footer {
      transition: opacity var(--transition-speed), transform var(--transition-speed);
    }

    header {
      padding: 2rem 1rem;
      text-align: center;
    }

    header h1 {
      font-size: 3rem;
      margin-bottom: 0.5rem;
    }

    header p {
      font-size: 1.2rem;
      color: var(--accent-light);
      transition: color var(--transition-speed);
    }
    body.dark header p {
      color: var(--accent-dark);
    }

    .container {
      width: 90%;
      max-width: 900px;
      background: var(--card-color-light);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
      transition: background var(--transition-speed), color var(--transition-speed);
      position: relative;
    }
    body.dark .container {
      background: var(--card-color-dark);
      color: var(--text-color-dark);
    }

    .message {
      font-size: 1.2rem;
      line-height: 1.8;
      margin-bottom: 2rem;
      text-align: justify;
    }

    .quote {
      font-style: italic;
      font-size: 1rem;
      text-align: center;
      color: var(--accent-light);
      margin-top: 2rem;
      transition: color var(--transition-speed);
    }
    body.dark .quote {
      color: var(--accent-dark);
    }

    .footer {
      margin-top: 3rem;
      font-size: 0.9rem;
      color: var(--accent-light);
      transition: color var(--transition-speed);
      text-align: center;
      user-select: none;
    }
    body.dark .footer {
      color: var(--accent-dark);
    }

    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      animation: fadeIn 1s forwards;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Center the next button */
    .next-button-container {
      display: flex;
      justify-content: center;
    }

    .next-button {
      padding: 0.75rem 1.5rem;
      background: var(--text-color-light);
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background var(--transition-speed);
      font-size: 1rem;
      user-select: none;
    }
    .next-button:hover {
      background: #444;
    }
    body.dark .next-button {
      background: var(--text-color-dark);
    }
    body.dark .next-button:hover {
      background: #666;
    }

    .slide {
      opacity: 0;
      transform: translateY(50px);
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background-color: var(--bg-color-light);
      padding: 2rem;
      transition: opacity 0.6s ease, transform 0.6s ease, background-color var(--transition-speed), color var(--transition-speed);
      color: var(--text-color-light);
      z-index: 10;
    }
    body.dark .slide {
      background-color: var(--bg-color-dark);
      color: var(--text-color-dark);
    }

    .slide.active {
      display: flex;
      opacity: 1;
      transform: translateY(0);
      position: relative;
      z-index: 20;
    }

    h2 {
      margin-bottom: 1rem;
      user-select: none;
    }

    .emoji-picker {
      font-size: 2rem;
      margin: 1rem 0;
      display: flex;
      gap: 1rem;
    }

    .emoji {
      cursor: pointer;
      transition: transform 0.3s;
      user-select: none;
    }

    .emoji:hover {
      transform: scale(1.3);
    }

    .mood-text {
      margin-top: 1.5rem;
      font-size: 1.2rem;
      text-align: center;
    }

    .pet {
      font-size: 4rem;
      margin-top: 2rem;
      transition: transform 0.4s ease;
      user-select: none;
    }

    /* Light/Dark toggle styles */
    .toggle-switch {
      position: fixed;
      top: 1rem;
      right: 1rem;
      width: 50px;
      height: 26px;
      background: #ccc;
      border-radius: 13px;
      cursor: pointer;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
      transition: background var(--transition-speed);
      user-select: none;
      z-index: 100;
      display: flex;
      align-items: center;
      padding: 2px;
    }
    body.dark .toggle-switch {
      background: #444;
    }
    .toggle-thumb {
      width: 22px;
      height: 22px;
      background: white;
      border-radius: 50%;
      transition: transform var(--transition-speed);
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }
    .toggle-switch.dark .toggle-thumb {
      transform: translateX(24px);
      background: #222;
    }

    /* Breathing exercise styles */
    .breath-circle {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background-color: var(--accent-light);
      opacity: 0.6;
      animation: breathAnim 8s ease-in-out infinite;
      user-select: none;
      margin: 2rem auto;
      transition: background-color var(--transition-speed);
    }
    body.dark .breath-circle {
      background-color: var(--accent-dark);
    }

    @keyframes breathAnim {
      0%, 100% {
        transform: scale(1);
        opacity: 0.6;
      }
      50% {
        transform: scale(1.4);
        opacity: 0.9;
      }
    }

    /* Mood history list */
    .history-list {
      margin-top: 1rem;
      width: 100%;
      max-width: 300px;
      list-style: none;
      padding-left: 0;
      user-select: none;
    }
    .history-list li {
      font-size: 1.5rem;
      padding: 0.4rem 0.7rem;
      border-bottom: 1px solid var(--accent-light);
      transition: border-color var(--transition-speed);
    }
    body.dark .history-list li {
      border-color: var(--accent-dark);
    }

    /* Navigation buttons */
    .nav-buttons {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      user-select: none;
    }
    .nav-button {
      padding: 0.6rem 1.2rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      background: var(--text-color-light);
      color: #fff;
      transition: background var(--transition-speed);
      flex: 1;
    }
    .nav-button:hover {
      background: #444;
    }
    body.dark .nav-button {
      background: var(--text-color-dark);
    }
    body.dark .nav-button:hover {
      background: #666;
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 2rem;
      }
      .message {
        font-size: 1rem;
      }
      .breath-circle {
        width: 120px;
        height: 120px;
      }
    }
  </style>
</head>
<body>
  <!-- Light/Dark Mode Toggle -->
  <div id="toggle-switch" class="toggle-switch" aria-label="Toggle light/dark mode" role="switch" tabindex="0">
    <div class="toggle-thumb"></div>
  </div>

  <!-- Slide 1: Welcome -->
  <div class="main-slide active">
    <header class="fade-in">
      <h1>Hey Aparajita üåø</h1>
      <p>You're not alone. You're deeply loved.</p>
    </header>

    <div class="container fade-in">
      <div class="message">
        <p>
          Life isn‚Äôt always easy, and that‚Äôs okay. It‚Äôs perfectly human to feel overwhelmed sometimes.
          But you, Aparajita, have a spirit that can‚Äôt be defeated. You‚Äôve come so far, even when it felt like you couldn‚Äôt.
        </p>
        <p>
          Breathe deeply. You‚Äôre not defined by your struggles. You‚Äôre defined by how gracefully you rise, how kindly you treat others, and how beautifully you carry on despite the heaviness.
          You are doing better than you think.
        </p>
        <p>
          The world is better with you in it, and there are brighter days ahead. You matter. You are seen. You are loved.
        </p>
      </div>
      <div class="quote">‚ÄúThe wound is the place where the light enters you.‚Äù ‚Äî Rumi</div>
      <div class="next-button-container">
        <button class="next-button" onclick="showSlide('mood-slide')">Pick your mood üåà</button>
      </div>
    </div>

    <div class="footer fade-in">
      Made with love by someone who cares deeply about you üíõ
    </div>
  </div>

  <!-- Slide 2: Mood Picker -->
  <div class="slide" id="mood-slide">
    <h2>How are you feeling right now?</h2>
    <div class="emoji-picker">
      <span class="emoji" onclick="showMood('üòä')">üòä</span>
      <span class="emoji" onclick="showMood('üò¢')">üò¢</span>
      <span class="emoji" onclick="showMood('üò°')">üò°</span>
      <span class="emoji" onclick="showMood('üòå')">üòå</span>
      <span class="emoji" onclick="showMood('üò¥')">üò¥</span>
    </div>
    <div class="mood-text" id="mood-text"></div>
    <div class="pet" id="virtual-pet"></div>

    <div class="nav-buttons">
      <button class="nav-button" onclick="showSlide('breathing-slide')">Try a breathing exercise üå¨Ô∏è</button>
      <button class="nav-button" onclick="showSlide('history-slide')">View mood history üìà</button>
      <button class="nav-button" onclick="showSlide('main-slide')">Back Home üè†</button>
    </div>
  </div>

  <!-- Slide 3: Breathing Exercise -->
  <div class="slide" id="breathing-slide">
    <h2>Breathe with me</h2>
    <div class="breath-circle"></div>
    <p style="text-align:center; max-width:400px; user-select:none;">
      Slowly breathe in as the circle grows, then breathe out as it shrinks. Repeat this for calmness and peace.
    </p>
    <div class="nav-buttons">
      <button class="nav-button" onclick="showSlide('mood-slide')">Back to Mood Picker</button>
      <button class="nav-button" onclick="showSlide('main-slide')">Back Home</button>
    </div>
  </div>

  <!-- Slide 4: Mood History -->
  <div class="slide" id="history-slide">
    <h2>Your Mood History</h2>
    <ul class="history-list" id="history-list">
      <!-- Mood entries go here -->
    </ul>
    <div class="nav-buttons">
      <button class="nav-button" onclick="showSlide('mood-slide')">Back to Mood Picker</button>
      <button class="nav-button" onclick="showSlide('main-slide')">Back Home</button>
    </div>
  </div>

  <script>
    // Slide management
    function showSlide(id) {
      document.querySelectorAll('.slide, .main-slide').forEach(slide => {
        slide.classList.remove('active');
        slide.style.display = 'none';
      });
      const target = document.getElementById(id);
      if (target) {
        target.style.display = 'flex';
        setTimeout(() => {
          target.classList.add('active');
        }, 10);
      }
    }

    // Mood & pet mapping + mood history storage
    const moodTexts = {
      'üòä': "That's wonderful! Keep spreading your joy. üíñ",
      'üò¢': "It's okay to feel sad. Let yourself feel it, and know you're not alone. üåßÔ∏è",
      'üò°': "Anger is valid too. Take deep breaths‚Äîyou‚Äôve got this. üî•",
      'üòå': "Peace looks good on you. Hold onto it. üåø",
      'üò¥': "You deserve rest. Please take care of yourself. üåô"
    };
    const pets = {
      'üòä': 'üê∂',
      'üò¢': 'üêß',
      'üò°': 'üêØ',
      'üòå': 'üê±',
      'üò¥': 'üêª'
    };

    function showMood(emoji) {
      document.getElementById('mood-text').innerText = moodTexts[emoji];
      document.getElementById('virtual-pet').innerText = pets[emoji];
      saveMood(emoji);
    }

    // Save mood to localStorage history (max 20 entries)
    function saveMood(mood) {
      let history = JSON.parse(localStorage.getItem('moodHistory')) || [];
      const timestamp = new Date().toLocaleString();
      history.unshift({ mood, time: timestamp });
      if (history.length > 20) history.pop();
      localStorage.setItem('moodHistory', JSON.stringify(history));
    }

    // Load and display mood history
    function loadHistory() {
      const historyList = document.getElementById('history-list');
      historyList.innerHTML = '';
      let history = JSON.parse(localStorage.getItem('moodHistory')) || [];
      if (history.length === 0) {
        historyList.innerHTML = '<li>No mood history yet.</li>';
        return;
      }
      history.forEach(entry => {
        const li = document.createElement('li');
        li.textContent = `${entry.mood} ‚Äî ${entry.time}`;
        historyList.appendChild(li);
      });
    }

    // Light/Dark mode toggle
    const toggleSwitch = document.getElementById('toggle-switch');
    function setTheme(dark) {
      if (dark) {
        document.body.classList.add('dark');
        toggleSwitch.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      } else {
        document.body.classList.remove('dark');
        toggleSwitch.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      }
    }

    toggleSwitch.addEventListener('click', () => {
      const isDark = document.body.classList.contains('dark');
      setTheme(!isDark);
    });
    toggleSwitch.addEventListener('keydown', e => {
      if(e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        toggleSwitch.click();
      }
    });

    // On page load, set theme from localStorage or system preference
    (function initTheme() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        setTheme(true);
      } else if (savedTheme === 'light') {
        setTheme(false);
      } else {
        // Default based on user system preference
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        setTheme(prefersDark);
      }
    })();

    // Initialize page: show main slide and load mood history
    window.onload = () => {
      showSlide('main-slide');
      loadHistory();
    };
  </script>
</body>
</html>
